<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>GitHub Repository Widget Documentation</title>
        <link href="output.css" rel="stylesheet" />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
            rel="stylesheet"
        />
        <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <style>
            body {
                font-family: 'Inter', sans-serif;
                display: flex;
                flex-direction: row; /* Changed to row to accommodate nav and aside */
                height: 100vh;
                margin: 0;
            }
            nav,
            aside {
                flex: 0 0 64px; /* Fixed width for nav and aside */
            }
            main {
                flex: 1;
                display: flex;
                flex-direction: column;
                overflow: hidden; /* Ensure no overflow */
            }
            .content {
                flex: 1;
                overflow: auto;
                display: flex;
                flex-direction: column;
            }
            button {
                padding: 8px 16px;
                font-size: 16px;
                cursor: pointer;
                margin-bottom: 20px;
            }

            #repo-container {
                padding: 1.5rem;
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
                gap: 1.5rem;
                width: 100%;
            }

            #repo-container > div {
                background-color: #ffffff;
                border-radius: 8px;
                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
                overflow: hidden;
                transition: transform 0.3s;
                padding: 1rem;
            }

            #repo-container > div:hover {
                transform: scale(1.05);
            }

            .sidebar {
                position: fixed;
                top: 0;
                right: -350px;
                width: 350px;
                height: 100%;
                background-color: #333333;
                color: #ffffff;
                padding: 20px;
                z-index: 90;
                transition: right 0.3s ease;
                overflow-y: auto;
            }

            .sidebar input,
            .sidebar select {
                color: #000;
            }

            .sidebar.visible {
                right: 0;
            }

            .sidebar.visible + .toggle-button {
                right: 350px;
            }

            .controls-grid {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
                margin-top: 10px;
            }

            .controls-grid label {
                display: block;
                margin-bottom: 5px;
                font-size: 14px;
                color: #ffffff;
            }

            .controls-grid input[type='color'] {
                width: 100%;
                height: 40px;
                border: none;
                cursor: pointer;
            }

            .config-output {
                margin-top: 20px;
                background-color: #222;
                padding: 10px;
                border-radius: 5px;
                color: #ffffff;
                font-size: 0.9rem;
            }

            .config-output h4 {
                margin-bottom: 10px;
            }

            .config-output pre {
                white-space: pre-wrap;
                word-wrap: break-word;
            }

            .toggle-button {
                position: fixed;
                top: 180px;
                right: 0rem;
                background-color: #e74c3c;
                border: none;
                color: #ffffff;
                padding: 10px;
                border-radius: 5px;
                border-top-right-radius: 0;
                border-bottom-right-radius: 0;
                cursor: pointer;
                transition: right 0.3s ease;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
                z-index: 90;
            }

            .toggle-button:hover {
                background-color: #c0392b;
            }

            .toggle-button svg {
                width: 24px;
                height: 24px;
                fill: #ffffff;
            }

            .close-button {
                position: absolute;
                top: 10px;
                right: 10px;
                background: none;
                color: #ffffff;
                border: none;
                font-size: 18px;
                cursor: pointer;
            }
        </style>
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
            rel="stylesheet"
        />
        <link
            href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.css"
            rel="stylesheet"
        />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/toolbar/prism-toolbar.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
    </head>
    <body class="bg-slate-50" x-data="{ currentSection: 'introduction' }">
        <nav
            class="fixed top-0 left-0 h-full w-64 bg-white border-r border-slate-200 p-6 overflow-y-auto"
        >
            <div class="mb-8">
                <h1 class="text-2xl font-bold text-slate-800">RepoWidget Documentation</h1>
                <a
                    href="https://github.com/peterbenoit/RepoWidget"
                    class="text-sm text-slate-500 hover:text-slate-700 mt-2 block"
                    >View on GitHub â†’</a
                >
            </div>

            <div class="mb-8">
                <h2 class="text-sm font-semibold text-slate-900 px-3 mb-2">Getting Started</h2>
                <ul class="space-y-2">
                    <li>
                        <a
                            href="#introduction"
                            @click.prevent="currentSection = 'introduction'"
                            :class="currentSection === 'introduction' ? 'text-blue-600 bg-blue-50' : 'text-slate-600 hover:text-slate-900'"
                            class="block px-3 py-2 rounded-md transition"
                            >Introduction</a
                        >
                    </li>
                    <li>
                        <a
                            href="#installation"
                            @click.prevent="currentSection = 'installation'"
                            :class="currentSection === 'installation' ? 'text-blue-600 bg-blue-50' : 'text-slate-600 hover:text-slate-900'"
                            class="block px-3 py-2 rounded-md transition"
                            >Installation</a
                        >
                    </li>
                    <li>
                        <a
                            href="#configuration"
                            @click.prevent="currentSection = 'configuration'"
                            :class="currentSection === 'configuration' ? 'text-blue-600 bg-blue-50' : 'text-slate-600 hover:text-slate-900'"
                            class="block px-3 py-2 rounded-md transition"
                            >Configuration</a
                        >
                    </li>
                    <li>
                        <a
                            href="#features"
                            @click.prevent="currentSection = 'features'"
                            :class="currentSection === 'features' ? 'text-blue-600 bg-blue-50' : 'text-slate-600 hover:text-slate-900'"
                            class="block px-3 py-2 rounded-md transition"
                            >Features</a
                        >
                    </li>
                </ul>
            </div>

            <div class="mb-8">
                <h2 class="text-sm font-semibold text-slate-900 px-3 mb-2">Usage</h2>
                <ul class="space-y-2">
                    <li>
                        <a
                            href="#styling"
                            @click.prevent="currentSection = 'styling'"
                            :class="currentSection === 'styling' ? 'text-blue-600 bg-blue-50' : 'text-slate-600 hover:text-slate-900'"
                            class="block px-3 py-2 rounded-md transition"
                            >Styling</a
                        >
                    </li>
                    <li>
                        <a
                            href="#sorting"
                            @click.prevent="currentSection = 'sorting'"
                            :class="currentSection === 'sorting' ? 'text-blue-600 bg-blue-50' : 'text-slate-600 hover:text-slate-900'"
                            class="block px-3 py-2 rounded-md transition"
                            >Sorting Options</a
                        >
                    </li>
                    <li>
                        <a
                            href="#responsive-design"
                            @click.prevent="currentSection = 'responsive-design'"
                            :class="currentSection === 'responsive-design' ? 'text-blue-600 bg-blue-50' : 'text-slate-600 hover:text-slate-900'"
                            class="block px-3 py-2 rounded-md transition"
                            >Responsive Design</a
                        >
                    </li>
                </ul>
            </div>

            <div>
                <h2 class="text-sm font-semibold text-slate-900 px-3 mb-2">
                    Configuring &amp; Contributing
                </h2>
                <ul class="space-y-2">
                    <li>
                        <a
                            href="#examples"
                            @click.prevent="currentSection = 'examples'"
                            :class="currentSection === 'examples' ? 'text-blue-600 bg-blue-50' : 'text-slate-600 hover:text-slate-900'"
                            class="block px-3 py-2 rounded-md transition"
                            >Configuration</a
                        >
                    </li>
                    <li>
                        <a
                            href="#contributing"
                            @click.prevent="currentSection = 'contributing'"
                            :class="currentSection === 'contributing' ? 'text-blue-600 bg-blue-50' : 'text-slate-600 hover:text-slate-900'"
                            class="block px-3 py-2 rounded-md transition"
                            >Contributing</a
                        >
                    </li>
                </ul>
            </div>
        </nav>

        <main class="ml-64 mr-64">
            <div class="content">
                <div x-show="currentSection === 'introduction'" class="space-y-8 m-8">
                    <div>
                        <h2 class="text-3xl font-bold text-slate-900 mb-4">
                            GitHub Repository Widget
                        </h2>
                        <p class="text-lg text-slate-600 mb-8">
                            A lightweight, customizable widget to showcase your GitHub repositories
                            on any website. Features responsive design, caching, and beautiful
                            repository cards with rich metadata.
                        </p>
                    </div>
                </div>

                <div x-show="currentSection === 'installation'" class="space-y-8 m-8">
                    <h2 class="text-3xl font-bold text-slate-900 mb-6">Installation</h2>
                    <p class="text-slate-600">
                        To use the GitHub Repository Widget, include the script in your HTML:
                    </p>
                    <pre
                        class="language-html rounded-lg p-4"
                    ><code class="language-html">&lt;script src="path/to/repoWidget.js"&gt;&lt;/script&gt;</code></pre>
                    <p class="text-slate-600">
                        Add a container element where the widget will be rendered:
                    </p>
                    <pre
                        class="language-html rounded-lg p-4"
                    ><code class="language-html">&lt;div id="my-repos"&gt;&lt;/div&gt;</code></pre>
                    <p class="text-slate-600">
                        Initialize the widget with your GitHub username and container ID:
                    </p>
                    <pre
                        class="language-javascript rounded-lg p-4"
                    ><code class="language-javascript">createRepoWidget({
    username: 'your-github-username',
    containerId: 'my-repos'
});</code></pre>
                </div>

                <div x-show="currentSection === 'configuration'" class="space-y-8 m-8">
                    <h2 class="text-3xl font-bold text-slate-900 mb-6">Configuration</h2>
                    <p class="text-slate-600">
                        The widget provides several configuration options to customize its behavior
                        and appearance:
                    </p>
                    <ul class="space-y-4 text-slate-600">
                        <li><strong>username</strong>: Your GitHub username (required)</li>
                        <li>
                            <strong>containerId</strong>: ID of the container element (required)
                        </li>
                        <li>
                            <strong>columns</strong>: Number of columns for different screen sizes
                        </li>
                        <li><strong>cardStyles</strong>: Custom styles for repository cards</li>
                        <li><strong>textStyles</strong>: Custom styles for text elements</li>
                        <li><strong>scaleOnHover</strong>: Scale factor on hover</li>
                        <li>
                            <strong>maxRepos</strong>: Maximum number of repositories to display
                        </li>
                        <li><strong>sortBy</strong>: Sort criteria (e.g., 'stars', 'forks')</li>
                    </ul>
                </div>

                <div x-show="currentSection === 'features'" class="space-y-8 m-8">
                    <h2 class="text-3xl font-bold text-slate-900 mb-6">Features</h2>
                    <ul class="space-y-4 text-slate-600">
                        <li>Fully customizable styling</li>
                        <li>Responsive grid layout</li>
                        <li>Local caching for better performance</li>
                        <li>Language color coding</li>
                        <li>Multiple sorting options</li>
                        <li>Hover animations</li>
                        <li>Configurable display limits</li>
                    </ul>
                </div>

                <div x-show="currentSection === 'styling'" class="space-y-8 m-8">
                    <h2 class="text-3xl font-bold text-slate-900 mb-6">Styling</h2>
                    <p class="text-slate-600">
                        Customize the appearance of the repository cards using the
                        <strong>cardStyles</strong> and <strong>textStyles</strong> options.
                        Example:
                    </p>
                    <pre
                        class="language-javascript rounded-lg p-4"
                    ><code class="language-javascript">createRepoWidget({
    username: 'github-username',
    containerId: 'my-repos',
    cardStyles: {
        background: 'linear-gradient(145deg, #ffffff, #f0f0f0)',
        boxShadow: '5px 5px 15px #d1d1d1, -5px -5px 15px #ffffff'
    },
    textStyles: {
        titleColor: '#2d3748',
        descriptionColor: '#4a5568',
        iconColor: '#718096'
    }
});</code></pre>
                </div>

                <div x-show="currentSection === 'sorting'" class="space-y-8 m-8">
                    <h2 class="text-3xl font-bold text-slate-900 mb-6">Sorting Options</h2>
                    <p class="text-slate-600">
                        The widget allows sorting repositories by various criteria. Use the
                        <strong>sortBy</strong> option to specify the sorting method:
                    </p>
                    <ul class="space-y-4 text-slate-600">
                        <li>
                            <strong>stars</strong>: Display most starred repositories first
                            (default)
                        </li>
                        <li><strong>forks</strong>: Sort by number of repository forks</li>
                        <li><strong>size</strong>: Order by repository size</li>
                        <li><strong>name</strong>: Alphabetical sorting by repository name</li>
                    </ul>
                    <pre
                        class="language-javascript rounded-lg p-4"
                    ><code class="language-javascript">createRepoWidget({
    username: 'github-username',
    containerId: 'my-repos',
    sortBy: 'forks',
    maxRepos: 6
});</code></pre>
                </div>

                <div x-show="currentSection === 'responsive-design'" class="space-y-8 m-8">
                    <h2 class="text-3xl font-bold text-slate-900 mb-6">Responsive Design</h2>
                    <p class="text-slate-600">
                        The widget automatically adjusts its layout based on screen size. Customize
                        the number of columns for different devices using the
                        <strong>columns</strong> option:
                    </p>
                    <pre
                        class="language-javascript rounded-lg p-4"
                    ><code class="language-javascript">createRepoWidget({
    username: 'github-username',
    containerId: 'my-repos',
    columns: { mobile: 1, tablet: 2, desktop: 3 }
});</code></pre>
                </div>

                <div x-show="currentSection === 'examples'" class="flex">
                    <div class="demo-area">
                        <h2 class="text-3xl font-bold text-slate-900 mb-6 ml-8 mt-8">Example</h2>
                        <p class="text-slate-600 ml-8">
                            Here are some examples of how to use the GitHub Repository Widget in
                            different scenarios:
                        </p>
                        <div id="repo-container"></div>

                        <div class="sidebar" id="color-controls">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="text-lg font-semibold">Customize RepoWidget</h3>
                                <button id="close-controls" class="text-lg focus:outline-none">
                                    &times;
                                </button>
                            </div>
                            <div class="grid grid-cols-2 gap-4 mb-4">
                                <div class="flex flex-col">
                                    <label class="text-sm font-medium mb-1">GitHub Username</label>
                                    <input
                                        type="text"
                                        id="username"
                                        value="peterbenoit"
                                        class="w-full h-10 px-2 border border-gray-600 rounded"
                                    />
                                </div>
                                <div class="flex flex-col">
                                    <label class="text-sm font-medium mb-1">Target ID</label>
                                    <input
                                        type="text"
                                        id="containerId"
                                        value="repo-container"
                                        class="w-full h-10 px-2 border border-gray-600 rounded"
                                    />
                                </div>
                                <div class="flex flex-col">
                                    <label class="text-sm font-medium mb-1">Sort By</label>
                                    <select
                                        id="sortBy"
                                        class="w-full h-10 px-2 border border-gray-600 rounded"
                                    >
                                        <option value="stars">Stars</option>
                                        <option value="forks">Forks</option>
                                        <option value="size">Size</option>
                                        <option value="name">Name</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="text-sm font-medium mb-1">Max Repos</label>
                                    <input
                                        type="number"
                                        id="maxRepos"
                                        value="8"
                                        min="1"
                                        class="w-full h-10 px-2 border border-gray-600 rounded"
                                    />
                                </div>
                                <div class="flex flex-col">
                                    <label class="text-sm font-medium mb-1">Mobile</label>
                                    <input
                                        type="number"
                                        id="columnsMobile"
                                        value="1"
                                        min="1"
                                        max="4"
                                        class="w-full h-10 px-2 border border-gray-600 rounded"
                                    />
                                </div>
                                <div class="flex flex-col">
                                    <label class="text-sm font-medium mb-1">Tablet</label>
                                    <input
                                        type="number"
                                        id="columnsTablet"
                                        value="2"
                                        min="1"
                                        max="4"
                                        class="w-full h-10 px-2 border border-gray-600 rounded"
                                    />
                                </div>
                                <div class="flex flex-col">
                                    <label class="text-sm font-medium mb-1">Desktop</label>
                                    <input
                                        type="number"
                                        id="columnsDesktop"
                                        value="4"
                                        min="1"
                                        max="6"
                                        class="w-full h-10 px-2 border border-gray-600 rounded"
                                    />
                                </div>
                                <div class="flex flex-col">
                                    <label class="text-sm font-medium mb-1">Scale</label>
                                    <input
                                        type="number"
                                        id="scaleOnHover"
                                        value="1.02"
                                        step="0.01"
                                        min="1"
                                        max="2"
                                        class="w-full h-10 px-2 border border-gray-600 rounded"
                                    />
                                </div>
                                <div class="flex flex-col">
                                    <label class="text-sm font-medium mb-1">Title Color</label>
                                    <input
                                        type="color"
                                        id="titleColor"
                                        value="#333333"
                                        class="w-full h-10 border border-gray-600 rounded"
                                    />
                                </div>
                                <div class="flex flex-col">
                                    <label class="text-sm font-medium mb-1"
                                        >Description Color</label
                                    >
                                    <input
                                        type="color"
                                        id="descriptionColor"
                                        value="#666666"
                                        class="w-full h-10 border border-gray-600 rounded"
                                    />
                                </div>
                                <div class="flex flex-col">
                                    <label class="text-sm font-medium mb-1">Icon Color</label>
                                    <input
                                        type="color"
                                        id="iconColor"
                                        value="#888888"
                                        class="w-full h-10 border border-gray-600 rounded"
                                    />
                                </div>
                                <div class="flex flex-col">
                                    <label class="text-sm font-medium mb-1">Background Color</label>
                                    <input
                                        type="color"
                                        id="backgroundColor"
                                        value="#ffffff"
                                        class="w-full h-10 border border-gray-600 rounded"
                                    />
                                </div>
                            </div>
                            <button
                                id="apply-config"
                                class="w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition"
                            >
                                Apply
                            </button>

                            <div class="mt-6 bg-gray-700 p-4 rounded">
                                <div class="flex justify-between items-center">
                                    <h4 class="text-sm font-medium mb-2 text-white">
                                        Configuration:
                                    </h4>
                                    <button
                                        id="copy-config"
                                        class="text-blue-300 text-xs hover:text-blue-500 relative"
                                    >
                                        Copy
                                        <span
                                            id="copy-tooltip"
                                            class="absolute bottom-full mb-1 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs py-1 px-2 rounded opacity-0 transition-opacity duration-300"
                                            >Copied!</span
                                        >
                                    </button>
                                </div>
                                <pre
                                    id="config-display"
                                    class="text-xs bg-gray-800 p-2 rounded text-gray-300 overflow-auto"
                                ></pre>
                            </div>
                        </div>

                        <button id="toggle-controls" class="toggle-button">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="1.5em"
                                height="1.5em"
                                viewBox="0 0 16 16"
                                class="w-6 h-6"
                            >
                                <path
                                    fill="none"
                                    stroke="currentColor"
                                    d="M8 4.5h6m-12 0h2.5m0 0a2 2 0 1 0 4 0a2 2 0 0 0-4 0Zm-2.5 7h6m3.5 0H14m-2.5 0a2 2 0 1 1-4 0a2 2 0 0 1 4 0Z"
                                />
                            </svg>
                        </button>
                    </div>
                </div>

                <div x-show="currentSection === 'contributing'" class="space-y-8 m-8">
                    <h2 class="text-3xl font-bold text-slate-900 mb-6">Contributing</h2>
                    <p class="text-slate-600">
                        Contributions are welcome! Feel free to submit issues and pull requests.
                        Follow these steps to contribute:
                    </p>
                    <ol class="list-decimal list-inside space-y-2 text-slate-600">
                        <li>Fork the repository</li>
                        <li>
                            Create your feature branch (<code
                                class="font-mono bg-gray-100 px-2 py-0.5 rounded"
                                >git checkout -b feature/amazing-feature</code
                            >)
                        </li>
                        <li>
                            Commit your changes (<code
                                class="font-mono bg-gray-100 px-2 py-0.5 rounded"
                                >git commit -m 'Add amazing feature'</code
                            >)
                        </li>
                        <li>
                            Push to the branch (<code
                                class="font-mono bg-gray-100 px-2 py-0.5 rounded"
                                >git push origin feature/amazing-feature</code
                            >)
                        </li>
                        <li>Open a Pull Request</li>
                    </ol>
                </div>
            </div>
        </main>

        <aside
            class="fixed top-0 right-0 h-full w-64 bg-white border-l border-slate-200 p-6 overflow-y-auto"
        >
            <h3 class="font-semibold text-slate-900 mb-4">On This Page</h3>
            <ul class="text-sm">
                <template x-if="currentSection === 'introduction'">
                    <div class="space-y-2">
                        <li>
                            <a href="#introduction" class="text-slate-600 hover:text-slate-900"
                                >Introduction</a
                            >
                        </li>
                    </div>
                </template>
                <template x-if="currentSection === 'installation'">
                    <div class="space-y-2">
                        <li>
                            <a href="#installation" class="text-slate-600 hover:text-slate-900"
                                >Installation</a
                            >
                        </li>
                    </div>
                </template>
                <template x-if="currentSection === 'configuration'">
                    <div class="space-y-2">
                        <li>
                            <a href="#configuration" class="text-slate-600 hover:text-slate-900"
                                >Configuration</a
                            >
                        </li>
                    </div>
                </template>
                <template x-if="currentSection === 'features'">
                    <div class="space-y-2">
                        <li>
                            <a href="#features" class="text-slate-600 hover:text-slate-900"
                                >Features</a
                            >
                        </li>
                    </div>
                </template>
                <template x-if="currentSection === 'styling'">
                    <div class="space-y-2">
                        <li>
                            <a href="#styling" class="text-slate-600 hover:text-slate-900"
                                >Styling</a
                            >
                        </li>
                    </div>
                </template>
                <template x-if="currentSection === 'sorting'">
                    <div class="space-y-2">
                        <li>
                            <a href="#sorting" class="text-slate-600 hover:text-slate-900"
                                >Sorting Options</a
                            >
                        </li>
                    </div>
                </template>
                <template x-if="currentSection === 'responsive-design'">
                    <div class="space-y-2">
                        <li>
                            <a href="#responsive-design" class="text-slate-600 hover:text-slate-900"
                                >Responsive Design</a
                            >
                        </li>
                    </div>
                </template>
                <template x-if="currentSection === 'examples'">
                    <div class="space-y-2">
                        <li>
                            <a href="#examples" class="text-slate-600 hover:text-slate-900"
                                >Example</a
                            >
                        </li>
                    </div>
                </template>
                <template x-if="currentSection === 'contributing'">
                    <div class="space-y-2">
                        <li>
                            <a href="#contributing" class="text-slate-600 hover:text-slate-900"
                                >Contributing</a
                            >
                        </li>
                    </div>
                </template>
            </ul>
        </aside>

        <script src="repoWidget.js"></script>
        <script>
            document.addEventListener('alpine:init', () => {
                Alpine.data('visibility', () => ({
                    currentSection: 'introduction',
                }));
            });

            function initializeWidget() {
                const username = document.getElementById('username').value;
                const containerId = document.getElementById('containerId').value;
                const columns = {
                    mobile: parseInt(document.getElementById('columnsMobile').value),
                    tablet: parseInt(document.getElementById('columnsTablet').value),
                    desktop: parseInt(document.getElementById('columnsDesktop').value),
                };
                const scaleOnHover = parseFloat(document.getElementById('scaleOnHover').value);
                const sortBy = document.getElementById('sortBy').value;
                const maxRepos = parseInt(document.getElementById('maxRepos').value); // New maxRepos setting
                const titleColor = document.getElementById('titleColor').value;
                const descriptionColor = document.getElementById('descriptionColor').value;
                const iconColor = document.getElementById('iconColor').value;
                const backgroundColor = document.getElementById('backgroundColor').value;

                createRepoWidget({
                    username,
                    containerId,
                    columns,
                    cardStyles: { backgroundColor },
                    textStyles: { titleColor, descriptionColor, iconColor },
                    scaleOnHover,
                    sortBy,
                    maxRepos,
                });

                updateConfigDisplay();
            }

            function updateConfigDisplay() {
                const config = {
                    username: document.getElementById('username').value,
                    containerId: document.getElementById('containerId').value,
                    columns: {
                        mobile: parseInt(document.getElementById('columnsMobile').value),
                        tablet: parseInt(document.getElementById('columnsTablet').value),
                        desktop: parseInt(document.getElementById('columnsDesktop').value),
                    },
                    cardStyles: {
                        backgroundColor: document.getElementById('backgroundColor').value,
                    },
                    textStyles: {
                        titleColor: document.getElementById('titleColor').value,
                        descriptionColor: document.getElementById('descriptionColor').value,
                        iconColor: document.getElementById('iconColor').value,
                    },
                    scaleOnHover: parseFloat(document.getElementById('scaleOnHover').value),
                    sortBy: document.getElementById('sortBy').value,
                    maxRepos: parseInt(document.getElementById('maxRepos').value),
                };
                document.getElementById('config-display').textContent = JSON.stringify(
                    config,
                    null,
                    2
                );
            }

            document.getElementById('apply-config').addEventListener('click', initializeWidget);

            document.getElementById('copy-config').addEventListener('click', () => {
                const configText = document.getElementById('config-display').textContent;
                navigator.clipboard.writeText(configText).then(() => {
                    const tooltip = document.getElementById('copy-tooltip');
                    tooltip.style.opacity = 1;
                    setTimeout(() => (tooltip.style.opacity = 0), 1500);
                });
            });

            const colorControls = document.getElementById('color-controls');
            const toggleControls = document.getElementById('toggle-controls');

            toggleControls.addEventListener('click', () => {
                colorControls.classList.toggle('visible');
            });

            document.getElementById('close-controls').addEventListener('click', () => {
                colorControls.classList.remove('visible');
            });

            initializeWidget();
        </script>
        <script src="https://www.peterbenoit.com/js/badge.js"></script>
    </body>
</html>
